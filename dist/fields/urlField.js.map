{"version":3,"sources":["../../src/fields/urlField.ts"],"sourcesContent":["import type { Field, FieldHook } from 'payload'\n\nimport type { CreatePluginField, UrlFieldConfig } from '../types.js'\nimport type { PluginContext } from '../utils/createPluginContext.js'\n\nimport { generateUrl } from '../utils/generateUrl.js'\nimport { getPluginPath } from '../utils/getPluginPath.js'\n\nconst validateUrlField =\n  (context: PluginContext): FieldHook =>\n  ({ data }) => {\n    const url = generateUrl(context, data)\n\n    return url\n  }\n\nexport const createUrlField: CreatePluginField<UrlFieldConfig, Field> = ({\n  context,\n  fieldConfig,\n}) => {\n  return {\n    name: fieldConfig.fieldName,\n    type: 'text',\n    admin: {\n      components: {\n        Cell: getPluginPath('client', '#UrlCell'),\n      },\n      description: 'Automatically generated url',\n      position: 'sidebar',\n      readOnly: true,\n    },\n    defaultValue: '',\n    hooks: {\n      beforeValidate: [validateUrlField(context)],\n    },\n    index: false, // Not indexed by default\n    localized: true, // Supports localization\n    required: true,\n  }\n}\n"],"names":["generateUrl","getPluginPath","validateUrlField","context","data","url","createUrlField","fieldConfig","name","fieldName","type","admin","components","Cell","description","position","readOnly","defaultValue","hooks","beforeValidate","index","localized","required"],"mappings":"AAKA,SAASA,WAAW,QAAQ,0BAAyB;AACrD,SAASC,aAAa,QAAQ,4BAA2B;AAEzD,MAAMC,mBACJ,CAACC,UACD,CAAC,EAAEC,IAAI,EAAE;QACP,MAAMC,MAAML,YAAYG,SAASC;QAEjC,OAAOC;IACT;AAEF,OAAO,MAAMC,iBAA2D,CAAC,EACvEH,OAAO,EACPI,WAAW,EACZ;IACC,OAAO;QACLC,MAAMD,YAAYE,SAAS;QAC3BC,MAAM;QACNC,OAAO;YACLC,YAAY;gBACVC,MAAMZ,cAAc,UAAU;YAChC;YACAa,aAAa;YACbC,UAAU;YACVC,UAAU;QACZ;QACAC,cAAc;QACdC,OAAO;YACLC,gBAAgB;gBAACjB,iBAAiBC;aAAS;QAC7C;QACAiB,OAAO;QACPC,WAAW;QACXC,UAAU;IACZ;AACF,EAAC"}