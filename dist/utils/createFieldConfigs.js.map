{"version":3,"sources":["../../src/utils/createFieldConfigs.ts"],"sourcesContent":["import type {\n  LocalizedSlugFieldConfig,\n  LocalizedUrlFieldConfig,\n  NavigationPluginConfig,\n  SlugFieldConfig,\n  UrlFieldConfig,\n} from '../types.js'\n\nconst createSlugFieldConfig = (\n  config: Partial<SlugFieldConfig> = {},\n  defaults: { fieldName: string; locales: string[]; lockFieldName: string },\n): SlugFieldConfig => ({\n  fieldName: config.fieldName || defaults.fieldName,\n  lockFieldName: config.lockFieldName || defaults.lockFieldName,\n  useFields: config.useFields || ['title'],\n\n  slugify: {\n    locale: 'en',\n    lower: true,\n    remove: /[*+~.()'\"!:@]/g,\n    replacement: '-',\n    strict: false,\n    trim: true,\n    ...(config.slugify || {}),\n  },\n})\n\nconst createLocalizedSlugFieldConfig = (\n  config: Partial<LocalizedSlugFieldConfig> = {},\n  defaults: { fieldName: string; locales: string[]; sourceFieldName: string },\n): LocalizedSlugFieldConfig => ({\n  fieldName: config.fieldName || defaults.fieldName,\n  locales: config.locales || defaults.locales,\n  sourceField: config.sourceField || defaults.sourceFieldName,\n})\n\nexport const createUrlFieldConfig = (\n  config: Partial<UrlFieldConfig> = {},\n  defaults: UrlFieldConfig,\n): UrlFieldConfig => ({\n  fieldName: config.fieldName || defaults.fieldName,\n  generateUrl: config.generateUrl,\n})\n\nconst createLocalizedUrlFieldConfig = (\n  config: Partial<LocalizedUrlFieldConfig> = {},\n  defaults: LocalizedUrlFieldConfig,\n): LocalizedUrlFieldConfig => ({\n  ...defaults,\n  ...(config || {}),\n})\n\nexport const createFieldConfigs = (pluginConfig: NavigationPluginConfig, locales: string[]) => {\n  const { fields = {} } = pluginConfig\n\n  const slugFieldConfig = createSlugFieldConfig(fields.slugField, {\n    fieldName: 'slug',\n    locales,\n    lockFieldName: 'slugLock',\n  })\n\n  const localizedSlugFieldConfig = createLocalizedSlugFieldConfig(fields.localizedSlugField, {\n    fieldName: 'slugs',\n    locales,\n    sourceFieldName: slugFieldConfig.fieldName,\n  })\n\n  const urlFieldConfig = createUrlFieldConfig(fields.urlField, {\n    fieldName: 'url',\n  })\n\n  const localizedUrlFieldConfig = createLocalizedUrlFieldConfig(fields.localizedUrlField, {\n    fieldName: 'urls',\n    locales,\n    sourceField: urlFieldConfig.fieldName,\n  })\n\n  return {\n    localizedSlugFieldConfig,\n    localizedUrlFieldConfig,\n    slugFieldConfig,\n    urlFieldConfig,\n  }\n}\n"],"names":["createSlugFieldConfig","config","defaults","fieldName","lockFieldName","useFields","slugify","locale","lower","remove","replacement","strict","trim","createLocalizedSlugFieldConfig","locales","sourceField","sourceFieldName","createUrlFieldConfig","generateUrl","createLocalizedUrlFieldConfig","createFieldConfigs","pluginConfig","fields","slugFieldConfig","slugField","localizedSlugFieldConfig","localizedSlugField","urlFieldConfig","urlField","localizedUrlFieldConfig","localizedUrlField"],"mappings":"AAQA,MAAMA,wBAAwB,CAC5BC,SAAmC,CAAC,CAAC,EACrCC,WACqB,CAAA;QACrBC,WAAWF,OAAOE,SAAS,IAAID,SAASC,SAAS;QACjDC,eAAeH,OAAOG,aAAa,IAAIF,SAASE,aAAa;QAC7DC,WAAWJ,OAAOI,SAAS,IAAI;YAAC;SAAQ;QAExCC,SAAS;YACPC,QAAQ;YACRC,OAAO;YACPC,QAAQ;YACRC,aAAa;YACbC,QAAQ;YACRC,MAAM;YACN,GAAIX,OAAOK,OAAO,IAAI,CAAC,CAAC;QAC1B;IACF,CAAA;AAEA,MAAMO,iCAAiC,CACrCZ,SAA4C,CAAC,CAAC,EAC9CC,WAC8B,CAAA;QAC9BC,WAAWF,OAAOE,SAAS,IAAID,SAASC,SAAS;QACjDW,SAASb,OAAOa,OAAO,IAAIZ,SAASY,OAAO;QAC3CC,aAAad,OAAOc,WAAW,IAAIb,SAASc,eAAe;IAC7D,CAAA;AAEA,OAAO,MAAMC,uBAAuB,CAClChB,SAAkC,CAAC,CAAC,EACpCC,WACoB,CAAA;QACpBC,WAAWF,OAAOE,SAAS,IAAID,SAASC,SAAS;QACjDe,aAAajB,OAAOiB,WAAW;IACjC,CAAA,EAAE;AAEF,MAAMC,gCAAgC,CACpClB,SAA2C,CAAC,CAAC,EAC7CC,WAC6B,CAAA;QAC7B,GAAGA,QAAQ;QACX,GAAID,UAAU,CAAC,CAAC;IAClB,CAAA;AAEA,OAAO,MAAMmB,qBAAqB,CAACC,cAAsCP;IACvE,MAAM,EAAEQ,SAAS,CAAC,CAAC,EAAE,GAAGD;IAExB,MAAME,kBAAkBvB,sBAAsBsB,OAAOE,SAAS,EAAE;QAC9DrB,WAAW;QACXW;QACAV,eAAe;IACjB;IAEA,MAAMqB,2BAA2BZ,+BAA+BS,OAAOI,kBAAkB,EAAE;QACzFvB,WAAW;QACXW;QACAE,iBAAiBO,gBAAgBpB,SAAS;IAC5C;IAEA,MAAMwB,iBAAiBV,qBAAqBK,OAAOM,QAAQ,EAAE;QAC3DzB,WAAW;IACb;IAEA,MAAM0B,0BAA0BV,8BAA8BG,OAAOQ,iBAAiB,EAAE;QACtF3B,WAAW;QACXW;QACAC,aAAaY,eAAexB,SAAS;IACvC;IAEA,OAAO;QACLsB;QACAI;QACAN;QACAI;IACF;AACF,EAAC"}